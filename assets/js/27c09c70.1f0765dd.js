"use strict";(self.webpackChunkpathvector_io=self.webpackChunkpathvector_io||[]).push([[331],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),f=a,h=d["".concat(l,".").concat(f)]||d[f]||u[f]||i;return n?r.createElement(h,o(o({ref:t},c),{},{components:n})):r.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:a,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},2989:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const i={},o="AS Path",s={unversionedId:"filtering/as-path",id:"filtering/as-path",title:"AS Path",description:"Pathvector supports a few types of AS path filtering:",source:"@site/docs/filtering/as-path.md",sourceDirName:"filtering",slug:"/filtering/as-path",permalink:"/docs/filtering/as-path",draft:!1,editUrl:"https://github.com/natesales/pathvector/edit/main/docs/docs/filtering/as-path.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Route Filtering",permalink:"/docs/category/route-filtering"},next:{title:"Blocklists",permalink:"/docs/filtering/blocklist"}},l={},p=[{value:"Downstream AS Cone",id:"downstream-as-cone",level:2},{value:"AS Provider Authorization (ASPA)",id:"as-provider-authorization-aspa",level:2},{value:"Transit ASNs",id:"transit-asns",level:2},{value:"Transit Locking",id:"transit-locking",level:2}],c={toc:p},d="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"as-path"},"AS Path"),(0,a.kt)("p",null,"Pathvector supports a few types of AS path filtering:"),(0,a.kt)("h2",{id:"downstream-as-cone"},"Downstream AS Cone"),(0,a.kt)("p",null,"A peer's ",(0,a.kt)("inlineCode",{parentName:"p"},"filter-as-path")," option enables downstream AS cone filtering. If a route's origin ASN isn't contained in the peer's AS-set, then it will be rejected. The AS-set can be defined manually with ",(0,a.kt)("inlineCode",{parentName:"p"},"as-set")," or retrieved automatically from PeeringDB with ",(0,a.kt)("inlineCode",{parentName:"p"},"auto-as-set"),"."),(0,a.kt)("h2",{id:"as-provider-authorization-aspa"},"AS Provider Authorization (ASPA)"),(0,a.kt)("p",null,"The global ",(0,a.kt)("inlineCode",{parentName:"p"},"authorized-providers")," option defines a network's authorized transit providers. For example, the following snippet will enforce that routes originated by AS65510 may only be transited by AS65511 and AS65512. Similarly, routes originated by AS65500 may only be transited by AS65540."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"authorized-providers:\n    65510: [65511, 65512]\n    65500: [65540]\n")),(0,a.kt)("p",null,"To enable ASPA filtering, set ",(0,a.kt)("inlineCode",{parentName:"p"},"filter-aspa")," on a peer. If a route's origin ASN isn't contained in the peer's authorized providers, then it will be rejected unless the path only contains the peer's ASN (no providers in path)."),(0,a.kt)("h2",{id:"transit-asns"},"Transit ASNs"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"filter-transit-asns")," enables filtering of known transit ASNs. If a route's path contains a transit ASN, it will be rejected. Pathvector is preloaded with a ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/natesales/pathvector/blob/main/pkg/config/config.go"},"default set of transit ASNs"),", which can be overridden with the global ",(0,a.kt)("inlineCode",{parentName:"p"},"transit-asns")," list."),(0,a.kt)("h2",{id:"transit-locking"},"Transit Locking"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"transit-lock")," peer option defines a list of authorized transit providers for the peer. If a route's AS path contains an ASN that isn't in the list, it will be rejected unless the AS path only contains the peer's ASN (no providers in path)."))}u.isMDXComponent=!0}}]);